# SOME DESCRIPTIVE TITLE.
# Copyright (C)
# This file is distributed under the same license as the Tarantool package.
# FIRST AUTHOR <EMAIL@ADDRESS>, 2019.
#
msgid ""
msgstr ""
"Project-Id-Version: Tarantool 1.10\n"
"Report-Msgid-Bugs-To: \n"
"POT-Creation-Date: 2020-02-03 19:29+0000\n"
"PO-Revision-Date: 2019-12-20 21:24+0300\n"
"Last-Translator: \n"
"Language-Team: \n"
"Language: ru\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"
"Plural-Forms: nplurals=3; plural=(n%10==1 && n%100!=11 ? 0 : n%10>=2 && n"
"%10<=4 && (n%100<10 || n%100>=20) ? 1 : 2)\n"
"Generated-By: Babel 2.7.0\n"

#: ../doc/book/box/box_slab.rst:5
msgid "Submodule `box.slab`"
msgstr "Вложенный модуль `box.slab`"

#: ../doc/book/box/box_slab.rst:11
msgid "Overview"
msgstr "Общие сведения"

#: ../doc/book/box/box_slab.rst:13
msgid ""
"The ``box.slab`` submodule provides access to slab allocator statistics. The "
"slab allocator is the main allocator used to store :ref:`tuples <index-"
"box_tuple>`. This can be used to monitor the total memory usage and memory "
"fragmentation."
msgstr ""
"Вложенный модуль ``box.slab`` предоставляет доступ к статистике "
"распределения slab. Механизм распределения slab представляет собой основной "
"тип распределения для хранения :ref:`кортежей <index-box_tuple>`. Такое "
"распределение можно использовать для отслеживания использования памяти и "
"фрагментации памяти."

#: ../doc/book/box/box_slab.rst:19
msgid "Index"
msgstr "Индекс"

#: ../doc/book/box/box_slab.rst:21
msgid "Below is a list of all ``box.slab`` functions."
msgstr "Ниже приведен перечень всех функций модуля ``box.slab``."

#: ../doc/book/box/box_slab.rst:29
msgid "Name"
msgstr "Имя"

#: ../doc/book/box/box_slab.rst:29
msgid "Use"
msgstr "Использование"

#: ../doc/book/box/box_slab.rst:31
msgid ":ref:`box.runtime.info() <box_runtime_info>`"
msgstr ":ref:`box.runtime.info() <box_runtime_info>`"

#: ../doc/book/box/box_slab.rst:31
msgid "Show a memory usage report for Lua runtime"
msgstr ""
"Отображение отчета по использованию памяти во время исполнения Lua-кода"

#: ../doc/book/box/box_slab.rst:34
msgid ":ref:`box.slab.info() <box_slab_info>`"
msgstr ":ref:`box.slab.info() <box_slab_info>`"

#: ../doc/book/box/box_slab.rst:34
msgid "Show an aggregated memory usage report for slab allocator"
msgstr ""
"Отображение обобщенного отчета по использованию памяти для распределения slab"

#: ../doc/book/box/box_slab.rst:37
msgid ":ref:`box.slab.stats() <box_slab_stats>`"
msgstr ":ref:`box.slab.stats() <box_slab_stats>`"

#: ../doc/book/box/box_slab.rst:37
msgid "Show a detailed memory usage report for slab allocator"
msgstr ""
"Отображение подробного отчета по использованию памяти для распределения slab"

#: ../doc/book/box/box_slab.rst:45
msgid "Show a memory usage report (in bytes) for the Lua runtime."
msgstr ""
"Отображение отчета по использованию памяти (в байтах) во время исполнения "
"Lua-кода."

#: ../doc/book/box/box_slab.rst:0
msgid "return"
msgstr "возвращается"

#: ../doc/book/box/box_slab.rst:49
msgid "``lua`` is the heap size of the Lua garbage collector;"
msgstr "``lua`` -- это размер динамической памяти сборщика мусора в Lua;"

#: ../doc/book/box/box_slab.rst:50
msgid "``maxalloc`` is the maximal memory quota that can be allocated for Lua;"
msgstr ""
"``maxalloc`` -- это максимальная квота памяти, которую можно выделить для "
"Lua;"

#: ../doc/book/box/box_slab.rst:51
msgid "``used`` is the current memory size used by Lua."
msgstr "``used`` -- объем памяти, используемый Lua в данный момент."

#: ../doc/book/box/box_slab.rst:0
msgid "rtype"
msgstr "тип возвращаемого значения"

#: ../doc/book/box/box_slab.rst:53 ../doc/book/box/box_slab.rst:136
#: ../doc/book/box/box_slab.rst:178
msgid "table"
msgstr "таблица"

#: ../doc/book/box/box_slab.rst:55 ../doc/book/box/box_slab.rst:138
#: ../doc/book/box/box_slab.rst:180
msgid "**Example:**"
msgstr "**Пример:**"

#: ../doc/book/box/box_slab.rst:57
msgid ""
"tarantool> box.runtime.info()\n"
"---\n"
"- lua: 913710\n"
"  maxalloc: 4398046510080\n"
"  used: 12582912\n"
"...\n"
"tarantool> box.runtime.info().used\n"
"---\n"
"- used: 12582912\n"
"..."
msgstr ""
"tarantool> box.runtime.info()\n"
"---\n"
"- lua: 913710\n"
"  maxalloc: 4398046510080\n"
"  used: 12582912\n"
"...\n"
"tarantool> box.runtime.info().used\n"
"---\n"
"- used: 12582912\n"
"..."

#: ../doc/book/box/box_slab.rst:74
#, fuzzy
msgid ""
"Show an aggregated memory usage report (in bytes) for the slab allocator. "
"This report is useful for assessing out-of-memory risks."
msgstr ""
"Отображение обобщенного отчета по использованию памяти (в байтах) для "
"распределения slab."

#: ../doc/book/box/box_slab.rst:77
msgid "``box.slab.info`` gives a few ratios:"
msgstr ""

#: ../doc/book/box/box_slab.rst:79
#, fuzzy
msgid "items_used_ratio"
msgstr "run_size_ratio"

#: ../doc/book/box/box_slab.rst:80
#, fuzzy
msgid "arena_used_ratio"
msgstr "run_size_ratio"

#: ../doc/book/box/box_slab.rst:81
#, fuzzy
msgid "quota_used_ratio"
msgstr "run_size_ratio"

#: ../doc/book/box/box_slab.rst:83
msgid "Here are two possible cases for monitoring memtx memory usage:"
msgstr ""

#: ../doc/book/box/box_slab.rst:85
msgid "**Case 1:** 0.5 < ``items_used_ratio`` < 0.9"
msgstr ""

#: ../doc/book/box/box_slab.rst:90
msgid ""
"Apparently your memory is highly fragmented. Check how many slab classes you "
"have by looking at ``box.slab.stats()`` and counting the number of different "
"classes. If there are many slab classes (more than a few dozens), you may "
"run out of memory even though memory utilization is not high. While each "
"slab may have few items used, whenever a tuple of a size different from any "
"existing slab class size is allocated, Tarantool may need to get a new slab "
"from the slab arena, and since the arena has few empty slabs left, it will "
"attempt to increase its quota usage, which, in turn, may end up with an out-"
"of-memory error due to the low remaining quota."
msgstr ""

#: ../doc/book/box/box_slab.rst:100
msgid "**Case 2:** ``items_used_ratio`` > 0.9"
msgstr ""

#: ../doc/book/box/box_slab.rst:105
msgid ""
"You are running out of memory. All memory utilization indicators are high. "
"Your memory is not fragmented, but there are few reserves left on each slab "
"allocator level. You should consider increasing Tarantool's memory limit "
"(``box.cfg.memtx_memory``)."
msgstr ""

#: ../doc/book/box/box_slab.rst:110
msgid ""
"**To sum up:** your main out-of-memory indicator is ``quota_used_ratio``. "
"However, there are lots of perfectly stable setups with a high "
"``quota_used_ratio``, so you only need to pay attention to it when both "
"arena and item used ratio are also high."
msgstr ""

#: ../doc/book/box/box_slab.rst:117
msgid ""
"``items_size`` is the *total* amount of memory (including allocated, but "
"currently free slabs) used only for tuples, no indexes;"
msgstr ""
"``items_size`` -- это *общий* объем памяти (включая выделенные, но в данный "
"момент свободные slab'ы), который используется только для кортежей, а не для "
"индексов;"

#: ../doc/book/box/box_slab.rst:119
msgid ""
"``items_used_ratio`` = ``items_used`` / ``slab_count`` * ``slab_size`` "
"(these are slabs used only for tuples, no indexes);"
msgstr ""
"``items_used_ratio`` = ``items_used`` / ``slab_count`` * ``slab_size`` (это "
"slab'ы, которые используются только для кортежей, не для индексов);"

#: ../doc/book/box/box_slab.rst:121
msgid ""
"``quota_size`` is the maximum amount of memory that the slab allocator can "
"use for both tuples and indexes (as configured in the :ref:`memtx_memory "
"<cfg_storage-memtx_memory>` parameter, the default is 2^28 bytes =  "
"268,435,456 bytes);"
msgstr ""
"``quota_size`` -- максимальный объем памяти, который механизм распределения "
"slab может использовать как для кортежей, так и для индексов (как настроено "
"в параметре :ref:`memtx_memory <cfg_storage-memtx_memory>`, по умолчанию "
"2^28 байтов =  268 435 456 байтов);"

#: ../doc/book/box/box_slab.rst:125
msgid "``quota_used_ratio`` = ``quota_used`` / ``quota_size``;"
msgstr "``quota_used_ratio`` = ``quota_used`` / ``quota_size``;"

#: ../doc/book/box/box_slab.rst:126
msgid "``arena_used_ratio`` = ``arena_used`` / ``arena_size``;"
msgstr "``arena_used_ratio`` = ``arena_used`` / ``arena_size``;"

#: ../doc/book/box/box_slab.rst:127
msgid ""
"``items_used`` is the *efficient* amount of memory (omitting allocated, but "
"currently free slabs) used only for tuples, no indexes;"
msgstr ""
"``items_used`` -- это *эффективный* объем памяти (не включая выделенные, но "
"в данный момент свободные slab'ы), который используется только для кортежей, "
"а не для индексов;"

#: ../doc/book/box/box_slab.rst:129
msgid ""
"``quota_used`` is the amount of memory that is already distributed to the "
"slab allocator;"
msgstr ""
"``quota_used`` -- это объем памяти, уже выделенный для распределения slab;"

#: ../doc/book/box/box_slab.rst:131
msgid ""
"``arena_size`` is the *total* memory used for tuples and indexes together "
"(including allocated, but currently free slabs);"
msgstr ""
"``arena_size`` -- это *общий* объем памяти, используемый для кортежей и "
"индексов (включая выделенные, но в данный момент свободные slab'ы);"

#: ../doc/book/box/box_slab.rst:133
msgid ""
"``arena_used`` is the *efficient* memory used for storing tuples and indexes "
"together (omitting allocated, but currently free slabs)."
msgstr ""
"``arena_used`` -- это *эффективный* объем памяти, используемый для кортежей "
"и индексов (не включая выделенные, но в данный момент свободные slab'ы)."

#: ../doc/book/box/box_slab.rst:140
msgid ""
"tarantool> box.slab.info()\n"
"---\n"
"- items_size: 228128\n"
"  items_used_ratio: 1.8%\n"
"  quota_size: 1073741824\n"
"  quota_used_ratio: 0.8%\n"
"  arena_used_ratio: 43.2%\n"
"  items_used: 4208\n"
"  quota_used: 8388608\n"
"  arena_size: 2325176\n"
"  arena_used: 1003632\n"
"...\n"
"\n"
"tarantool> box.slab.info().arena_used\n"
"---\n"
"- 1003632\n"
"..."
msgstr ""
"tarantool> box.slab.info()\n"
"---\n"
"- items_size: 228128\n"
"  items_used_ratio: 1.8%\n"
"  quota_size: 1073741824\n"
"  quota_used_ratio: 0.8%\n"
"  arena_used_ratio: 43.2%\n"
"  items_used: 4208\n"
"  quota_used: 8388608\n"
"  arena_size: 2325176\n"
"  arena_used: 1003632\n"
"...\n"
"\n"
"tarantool> box.slab.info().arena_used\n"
"---\n"
"- 1003632\n"
"..."

#: ../doc/book/box/box_slab.rst:164
msgid ""
"Show a detailed memory usage report (in bytes) for the slab allocator. The "
"report is broken down into groups by *data item size* as well as by *slab "
"size* (64-byte, 136-byte, etc). The report includes the memory allocated for "
"storing both tuples and indexes."
msgstr ""
"Отображение подробного отчета об использовании памяти (в байтах) для "
"распределения slab. Отчет разбивается на группы по *размеру элементов "
"данных*, а также по *размеру slab'а* (64 байта, 136 байтов и т.д.). Отчет "
"включает в себя информацию о памяти, выделенной на хранение и кортежей, и "
"индексов."

#: ../doc/book/box/box_slab.rst:171
msgid "``mem_free`` is the allocated, but currently unused memory;"
msgstr ""
"``mem_free`` -- это выделенная, но не используемая в данный момент память;"

#: ../doc/book/box/box_slab.rst:172
msgid ""
"``mem_used`` is the memory used for storing data items (tuples and indexes);"
msgstr ""
"``mem_used`` -- это память, используемая для хранения элементов данных "
"(кортежей и индексов);"

#: ../doc/book/box/box_slab.rst:173
msgid "``item_count`` is the number of stored items;"
msgstr "``item_count`` -- это количество хранимых элементов;"

#: ../doc/book/box/box_slab.rst:174
msgid "``item_size`` is the size of each data item;"
msgstr "``item_size`` -- это размер каждого элемента данных;"

#: ../doc/book/box/box_slab.rst:175
msgid "``slab_count`` is the number of slabs allocated;"
msgstr "``slab_count`` -- это количество выделенных slab'ов;"

#: ../doc/book/box/box_slab.rst:176
msgid "``slab_size`` is the size of each allocated slab."
msgstr "``slab_size`` -- это размер каждого выделенного slab'а."

#: ../doc/book/box/box_slab.rst:182
msgid "Here is a sample report for the first group:"
msgstr "Ниже представлен пример отчета для первой группы:"

#: ../doc/book/box/box_slab.rst:184
msgid ""
"tarantool> box.slab.stats()[1]\n"
"---\n"
"- mem_free: 16232\n"
"  mem_used: 48\n"
"  item_count: 2\n"
"  item_size: 24\n"
"  slab_count: 1\n"
"  slab_size: 16384\n"
"..."
msgstr ""
"tarantool> box.slab.stats()[1]\n"
"---\n"
"- mem_free: 16232\n"
"  mem_used: 48\n"
"  item_count: 2\n"
"  item_size: 24\n"
"  slab_count: 1\n"
"  slab_size: 16384\n"
"..."

#: ../doc/book/box/box_slab.rst:196
msgid ""
"This report is saying that there are 2 data items (``item_count`` = 2) "
"stored in one (``slab_count`` = 1) 24-byte slab (``item_size`` = 24), so "
"``mem_used`` = 2 * 24 = 48 bytes. Also, ``slab_size`` is 16384 bytes, of "
"which 16384 - 48 = 16232 bytes are free (``mem_free``)."
msgstr ""
"В отчете показано, что есть два элемента данных (``item_count`` = 2), "
"которые хранятся в одном (``slab_count`` = 1) 24-байтовом slab'е "
"(``item_size`` = 24), поэтому объем используемой памяти ``mem_used`` = 2 * "
"24 = 48 байтов. Кроме того, размер slab'а ``slab_size`` составляет 16384 "
"байта, из которых 16384 - 48 = 16232 байта свободны (``mem_free``)."

#: ../doc/book/box/box_slab.rst:201
msgid "A complete report would show memory usage statistics for all groups:"
msgstr ""
"В полном отчете будет статистика по использованию памяти во всех группах:"

#: ../doc/book/box/box_slab.rst:203
msgid ""
"tarantool> box.slab.stats()\n"
"---\n"
"- - mem_free: 16232\n"
"    mem_used: 48\n"
"    item_count: 2\n"
"    item_size: 24\n"
"    slab_count: 1\n"
"    slab_size: 16384\n"
"  - mem_free: 15720\n"
"    mem_used: 560\n"
"    item_count: 14\n"
"    item_size: 40\n"
"    slab_count: 1\n"
"    slab_size: 16384\n"
"  <...>\n"
"  - mem_free: 32472\n"
"    mem_used: 192\n"
"    item_count: 1\n"
"    item_size: 192\n"
"    slab_count: 1\n"
"    slab_size: 32768\n"
"  - mem_free: 1097624\n"
"    mem_used: 999424\n"
"    item_count: 61\n"
"    item_size: 16384\n"
"    slab_count: 1\n"
"    slab_size: 2097152\n"
"  ..."
msgstr ""
"tarantool> box.slab.stats()\n"
"---\n"
"- - mem_free: 16232\n"
"    mem_used: 48\n"
"    item_count: 2\n"
"    item_size: 24\n"
"    slab_count: 1\n"
"    slab_size: 16384\n"
"  - mem_free: 15720\n"
"    mem_used: 560\n"
"    item_count: 14\n"
"    item_size: 40\n"
"    slab_count: 1\n"
"    slab_size: 16384\n"
"  <...>\n"
"  - mem_free: 32472\n"
"    mem_used: 192\n"
"    item_count: 1\n"
"    item_size: 192\n"
"    slab_count: 1\n"
"    slab_size: 32768\n"
"  - mem_free: 1097624\n"
"    mem_used: 999424\n"
"    item_count: 61\n"
"    item_size: 16384\n"
"    slab_count: 1\n"
"    slab_size: 2097152\n"
"  ..."

#: ../doc/book/box/box_slab.rst:234
msgid ""
"The total ``mem_used`` for all groups in this report equals ``arena_used`` "
"in :ref:`box.slab.info() <box_slab_info>` report."
msgstr ""
"Общий объем используемой памяти ``mem_used`` для всех групп в данном отчете "
"равен ``arena_used`` в отчете :ref:`box.slab.info() <box_slab_info>`."
